@model CourseEntity;
@{
    var user = await _userManager.GetUserAsync(User);
}

@if (Model != null)
{
    <div class="backgroundImage" style="background-image: url('@Model.ImageUrl');"></div>
}

    <div class="container">

        <section id="ImageHeadline">

                <div class="navigationContainer">
                    <nav class="navigation">
                        <a asp-controller="Home" asp-action="Index">
                            <svg class="home" width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1.7522 15.4999H4.7522H9.2522H12.2522C13.0794 15.4999 13.7522 14.8272 13.7522 13.9999V7.24994C13.7522 7.05119 13.6734 6.85994 13.5324 6.71969L7.53245 0.719693C7.2392 0.426443 6.7652 0.426443 6.47195 0.719693L0.471947 6.71969C0.330947 6.85994 0.252197 7.05119 0.252197 7.24994V13.9999C0.252197 14.8272 0.924947 15.4999 1.7522 15.4999ZM5.5022 13.9999V10.2499H8.5022V13.9999H5.5022ZM1.7522 7.56044L7.0022 2.31044L12.2522 7.56044L12.2529 13.9999H10.0022V10.2499C10.0022 9.42269 9.32945 8.74994 8.5022 8.74994H5.5022C4.67495 8.74994 4.0022 9.42269 4.0022 10.2499V13.9999H1.7522V7.56044Z" fill="#9397AD" />
                            </svg>
                            home
                        </a>
                        <p>>></p>
                        <a asp-controller="Courses" asp-action="Index">Courses</a>
                    </nav>
                </div>

                <div class="ImageHeadlineContainer">

                        <div class="marks">
                        @if (Model.IsBestseller == true)
                        {
                            <div class="best-seller"><p>Best Seller</p></div>
                        }
                        @if(Model.IsDigital == true)
                        {

                            <div class="digital-container"><p>Digital</p></div>
                        } 
                        </div>

                    <div class="h1-courses">@Model.Title</div>
                    <p class="underline">@Model.Ingress</p>
                </div>

                    @{
                    var numberOfStars = Model.NumberOfStars ?? 0;
                    var numberOfEmptyStars = 5 - numberOfStars;
                    }

                <div class="likesAndTeacher">

                    <div class="timeAndLikesParent">
                        <div class="timeAndLikesChild">

                            @for (int i = 0; i < numberOfStars; i++)
                            {
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.6313 5.11925C13.5453 4.86725 13.3179 4.68925 13.0526 4.66859L9.25195 4.36659L7.60728 0.725919C7.49995 0.486585 7.26195 0.333252 6.99995 0.333252C6.73795 0.333252 6.49995 0.486585 6.39261 0.725252L4.74795 4.36659L0.947279 4.66859C0.686612 4.68925 0.461945 4.86059 0.373279 5.10659C0.284612 5.35259 0.347279 5.62792 0.534612 5.81059L3.34328 8.54859L2.34995 12.8499C2.28861 13.1159 2.39595 13.3926 2.62061 13.5479C2.73528 13.6266 2.86728 13.6666 2.99995 13.6666C3.12861 13.6666 3.25795 13.6293 3.36995 13.5546L6.99995 11.1346L10.6299 13.5546C10.8619 13.7093 11.1666 13.7033 11.3933 13.5386C11.6186 13.3739 11.7179 13.0853 11.6413 12.8173L10.4219 8.55059L13.4459 5.82925C13.6439 5.65059 13.7166 5.37192 13.6313 5.11925Z" fill="#FFBA08" />
                                </svg>                      
                            }
                            @for(int i = 0; i < numberOfEmptyStars; i++)
                            {
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path opacity="0.5" d="M3.34399 8.54859L2.35066 12.8499C2.28932 13.1159 2.39599 13.3926 2.62132 13.5479C2.73532 13.6266 2.86732 13.6666 2.99999 13.6666C3.12866 13.6666 3.25799 13.6293 3.36999 13.5546L6.99999 11.1346L10.63 13.5546C10.862 13.7093 11.1667 13.7033 11.3933 13.5386C11.6187 13.3739 11.718 13.0853 11.6413 12.8173L10.422 8.55059L13.446 5.82925C13.644 5.65059 13.7167 5.37192 13.6313 5.11992C13.5453 4.86792 13.318 4.69059 13.0527 4.66925L9.25199 4.36659L7.60732 0.725919C7.49999 0.486585 7.26199 0.333252 6.99999 0.333252C6.73799 0.333252 6.49999 0.486585 6.39266 0.725919L4.74799 4.36659L0.947324 4.66859C0.685991 4.68925 0.461324 4.86059 0.373324 5.10659C0.283991 5.35259 0.347991 5.62792 0.534658 5.81059L3.34399 8.54859ZM5.24599 5.66459C5.48799 5.64525 5.70132 5.49592 5.80066 5.27392L6.99999 2.61992L8.19932 5.27392C8.29866 5.49592 8.51199 5.64525 8.75399 5.66459L11.402 5.87459L9.22132 7.83725C9.03199 8.00792 8.95666 8.27059 9.02599 8.51592L9.86132 11.4393L7.37066 9.77859C7.14666 9.62859 6.85532 9.62859 6.63132 9.77859L4.02866 11.5139L4.72866 8.48325C4.78066 8.25659 4.71132 8.01859 4.54466 7.85659L2.51932 5.88192L5.24599 5.66459Z" fill="white" />
                                </svg>
                            }

                            <p>(@Model.ExtraInfoThree)K reviews</p>
                        </div>
                        <div class="verticalborder"></div>
                        <div class="timeAndLikesChild">
                            <svg class="svg" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.6666 6.66675H11.99L12.9258 3.86091C13.0941 3.35425 13.0091 2.79258 12.6966 2.35925C12.3841 1.92591 11.8775 1.66675 11.3433 1.66675H9.99996C9.75246 1.66675 9.51829 1.77675 9.35913 1.96675L5.44246 6.66675H3.33329C2.41413 6.66675 1.66663 7.41425 1.66663 8.33341V15.8334C1.66663 16.7526 2.41413 17.5001 3.33329 17.5001H5.83329H14.4225C15.1133 17.5001 15.74 17.0659 15.9833 16.4184L18.2808 10.2926C18.3158 10.1992 18.3333 10.1001 18.3333 10.0001V8.33341C18.3333 7.41425 17.5858 6.66675 16.6666 6.66675ZM3.33329 8.33341H4.99996V15.8334H3.33329V8.33341ZM16.6666 9.84925L14.4225 15.8334H6.66663V7.80175L10.39 3.33341H11.345L10.0433 7.23591C9.95746 7.49008 10.0008 7.76925 10.1575 7.98675C10.3141 8.20508 10.5658 8.33341 10.8333 8.33341H16.6666V9.84925Z" fill="#9397AD" />
                            </svg>
                            <p>@Model.LikesInProcent % (@Model.LikesInNumbers K)</p>
                        </div>
                        <div class="verticalborder"></div>
                        <div class="timeAndLikesChild">
                            <svg class="svg" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.99996 1.66675C5.40496 1.66675 1.66663 5.40508 1.66663 10.0001C1.66663 14.5951 5.40496 18.3334 9.99996 18.3334C14.595 18.3334 18.3333 14.5951 18.3333 10.0001C18.3333 5.40508 14.595 1.66675 9.99996 1.66675ZM9.99996 16.6667C6.32413 16.6667 3.33329 13.6759 3.33329 10.0001C3.33329 6.32425 6.32413 3.33341 9.99996 3.33341C13.6758 3.33341 16.6666 6.32425 16.6666 10.0001C16.6666 13.6759 13.6758 16.6667 9.99996 16.6667Z" fill="#9397AD" />
                                <path d="M10.8333 5.83325H9.16663V10.3449L11.9108 13.0891L13.0891 11.9108L10.8333 9.65492V5.83325Z" fill="#9397AD" />
                            </svg>
                            <p>@Model.Hours Hours </p>
                        </div>
                    </div>

                    <div class="courseLeader-container">
                        <div class="image-container">
                            @if(Model.Teacher != null)
                            {
                                if(Model.Teacher.ImageUrl == null)
                                {
                                    <img class="imageTeacher" src="~/images/DefaultProfil.png" />
                                }
                                else
                                {
                                    <img class="imageTeacher" src="~/images/teachers/@Model.Teacher.ImageUrl" />
                                }                               
                            }
                            else
                            {
                                <img class="imageTeacher" src="~/images/DefaultProfil.png" />
                            }
                        </div>
                        <div class="nameContainer">
                            <b>Created by</b>
                            <p>@Model.Author</p>
                        </div>
                    </div>

                </div>

        </section>


        <section id="CourseDetails">

            <div class="line"></div>

            <div id="courseDescription">
                <h1 class="HeadLine">Course Description</h1>
                <p>@Model.Description</p>
            </div>

            <div id="whatYouLearn">
                <h3 class="HeadLine">What you'll learn</h3>
                <ul>
                @if(Model.WhatYouLearnEntity != null)
                {
                    @foreach (var learnItem in Model.WhatYouLearnEntity.whatYouLearnItems)
                    {
                        <li>
                            <div class="containerContent">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.0001 1.66666C5.40508 1.66666 1.66675 5.40499 1.66675 9.99999C1.66675 14.595 5.40508 18.3333 10.0001 18.3333C14.5951 18.3333 18.3334 14.595 18.3334 9.99999C18.3334 5.40499 14.5951 1.66666 10.0001 1.66666ZM10.0001 16.6667C6.32425 16.6667 3.33341 13.6758 3.33341 9.99999C3.33341 6.32416 6.32425 3.33332 10.0001 3.33332C13.6759 3.33332 16.6667 6.32416 16.6667 9.99999C16.6667 13.6758 13.6759 16.6667 10.0001 16.6667Z" fill="#6366F1" />
                                    <path d="M8.33249 11.3225L6.41666 9.40999L5.23999 10.59L8.33416 13.6775L13.9225 8.08916L12.7442 6.91083L8.33249 11.3225Z" fill="#6366F1" />
                                </svg>
                                <p>@learnItem.</p>
                            </div>
                        </li>
                    }
                }

                </ul>
            </div>

            <form class="joinCourse" asp-controller="CourseDetails" asp-action="JoinCourse" method="post" novalidate>
                <h5>This course includes:</h5>
                <ul>
                    <li>
                        <div class="containerContent">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.6667 2.5H3.33335C2.41419 2.5 1.66669 3.2475 1.66669 4.16667V12.5C1.66669 13.4192 2.41419 14.1667 3.33335 14.1667H9.16669V16.6667H6.66669V18.3333H9.16669H10.8334H13.3334V16.6667H10.8334V14.1667H16.6667C17.5859 14.1667 18.3334 13.4192 18.3334 12.5V4.16667C18.3334 3.2475 17.5859 2.5 16.6667 2.5ZM3.33335 12.5V4.16667H16.6667L16.6675 12.5H3.33335Z" fill="#9397AD" />
                                <path d="M8.33331 10.8333L12.5 8.33325L8.33331 5.83325V10.8333Z" fill="#9397AD" />
                            </svg>

                            <p>@Model.Hours hours on-demand video</p>
                        </div>
                    </li>
                    <li>
                        <div class="containerContent">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.5858 7.15508C16.545 7.06675 16.4941 6.98258 16.4225 6.91092L11.4225 1.91091C11.3508 1.83925 11.2666 1.78841 11.1783 1.74758C11.1533 1.73591 11.1266 1.72925 11.1 1.72008C11.03 1.69675 10.9583 1.68175 10.8841 1.67758C10.8666 1.67591 10.8508 1.66675 10.8333 1.66675H4.99998C4.08081 1.66675 3.33331 2.41425 3.33331 3.33341V16.6667C3.33331 17.5859 4.08081 18.3334 4.99998 18.3334H15C15.9191 18.3334 16.6666 17.5859 16.6666 16.6667V7.50008C16.6666 7.48258 16.6575 7.46675 16.6558 7.44841C16.6516 7.37425 16.6375 7.30258 16.6133 7.23258C16.605 7.20591 16.5975 7.18008 16.5858 7.15508ZM13.8216 6.66675H11.6666V4.51175L13.8216 6.66675ZM4.99998 16.6667V3.33341H9.99998V7.50008C9.99998 7.96092 10.3725 8.33342 10.8333 8.33342H15L15.0016 16.6667H4.99998Z" fill="#9397AD" />
                                <path d="M6.66669 9.99996H13.3334V11.6666H6.66669V9.99996ZM6.66669 13.3333H13.3334V15H6.66669V13.3333ZM6.66669 6.66663H8.33335V8.33329H6.66669V6.66663Z" fill="#9397AD" />
                            </svg>

                            <p>@Model.NumberOfArticles articles</p>
                        </div>
                    </li>
                    <li>
                        <div class="containerContent">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 13.3334L13.3334 9.16671H10.8334V3.33337H9.16669V9.16671H6.66669L10 13.3334Z" fill="#9397AD" />
                                <path d="M16.6667 15H3.33335V9.16663H1.66669V15C1.66669 15.9191 2.41419 16.6666 3.33335 16.6666H16.6667C17.5859 16.6666 18.3334 15.9191 18.3334 15V9.16663H16.6667V15Z" fill="#9397AD" />
                            </svg>

                            <p>@Model.Resourses downloadable resourses</p>
                        </div>
                    </li>
                    <li>
                        <div class="containerContent">
                            <svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13.1667 0.833374C11.4217 0.833374 10.1575 2.13921 8.99919 3.62171C7.84085 2.13921 6.57752 0.833374 4.83335 0.833374C2.53585 0.833374 0.666687 2.70254 0.666687 5.00004C0.666687 6.11171 1.09919 7.15754 1.88252 7.94504C2.66835 8.73254 3.71335 9.16671 4.82502 9.16671C4.82502 9.16671 4.83419 9.16671 4.83502 9.16671C6.57585 9.16254 7.83919 7.85671 8.99835 6.37421C10.1575 7.85921 11.4217 9.16671 13.1667 9.16671C15.4642 9.16671 17.3334 7.29754 17.3334 5.00004C17.3334 2.70254 15.4642 0.833374 13.1667 0.833374ZM4.83169 7.50004L4.82502 8.33337V7.50004C4.15919 7.50004 3.53335 7.24004 3.06335 6.76837C2.59252 6.29587 2.33335 5.66754 2.33335 5.00004C2.33335 3.62171 3.45502 2.50004 4.83335 2.50004C5.94169 2.50004 6.96669 3.69837 7.95502 4.99837C6.96502 6.29754 5.94002 7.49754 4.83169 7.50004ZM13.1667 7.50004C12.0584 7.50004 11.0325 6.30004 10.0425 4.99837C11.0317 3.69837 12.0567 2.50004 13.1667 2.50004C14.545 2.50004 15.6667 3.62171 15.6667 5.00004C15.6667 6.37837 14.545 7.50004 13.1667 7.50004Z" fill="#9397AD" />
                            </svg>

                            <p>@Model.ExtraInfoOne</p>
                        </div>
                    </li>
                </ul>
                <div class="price">

                @if(Model.DiscountPrice == null)
                {
                    <div class="Price">$@Model.Price</div>
                }
                else
                {
                    <div class="Price">$@Model.DiscountPrice</div>
                    <div class="orgPrice">$@Model.Price</div>
                }
                </div>

                <input type="hidden" name="courseId" value="@Model.Id" />
                <input type="hidden" name="userId" value="@user.Id" />
                <button class="btn-theme-s" type="submit">
                    Join course
                </button>
            </form>

        </section>

        <section id="ProgramDetails">

            <div class="HeadlineProgramDetails">
                <h1>Program Details</h1>
            </div>

            <div class="contentContainer">

            @if (Model.ProgramDetailsEntity != null)
            {
                var numberOfItems = 0;
                var totalItems = Model.ProgramDetailsEntity.ProgramDetails.Count();

                foreach (var item in Model.ProgramDetailsEntity.ProgramDetails)
                {
                    numberOfItems++;

                    <div class="boxContainer">
                        <div class="numberContainer">
                            <div class="outerCircle">
                                <div class="innerCircle">
                                        <h3>
                                                @numberOfItems
                                        </h3>
                                </div>
                            </div>
                            @if(numberOfItems != totalItems)
                            {
                                <div class="line"></div>
                            }
                        </div>
                        <div class="textContainerProgramDetails">
                            <h5>Introduction. Getting started</h5>
                            <p>Nulla faucibus mauris pellentesque blandit faucibus non. Sit ut et at suspendisse gravida hendrerit tempus placerat.</p>
                        </div>
                    </div>
                }
            }

            </div>

            <div class="line"></div>

        </section>

   @if(Model.Teacher != null)
   {
   <section id="CourseTeacher">

        <img class="something" src="~/images/coursesPage/pattern.svg" />

        <div class="imageContainer">
        @if (Model.Teacher.ImageUrl != null)
        {
            <img src="/images/teachers/@Model.Teacher.ImageUrl" alt="@Model.Teacher.Name"/>
        }
        else
        {
            <img src="~/images/DefaultProfil.png" />
        }
        </div>

            <div class="textContainerCourses">

                <div class="contentContainerCourses">
                    <h6>Learn from the best</h6>
                    <h1>@Model.Teacher.Name</h1>
                    <p>@Model.Teacher.Description</p>
                    <div class="btnContainerCourses">
                        <a class="btn-red"><i class="fa-brands fa-youtube"></i>@Model.Teacher.YoutubeSubscribers subscribers</a>
                        <a class="btn-theme"><i class="fa-brands fa-square-facebook"></i>@Model.Teacher.FaceBookFollowers followers</a>
                    </div>
                </div>

                </div>

   </section>
   }

</div>